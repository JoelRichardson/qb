<!DOCTYPE html>
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link type="text/css" rel="stylesheet" href="./resources/css/style.css">
    <script type="text/javascript" src="./resources/js/d3.v3.js"></script>
    <script type="text/javascript" src="./resources/js/d3.layout.js"></script>


</head>
<body>
    <div id="body">

        <div id="topCtrlBar">
            <!-- The list of available mines. -->
            <div>
                <label>Mine</label>
                <select id="mlist"></select>
            </div>

            <!-- Selected template from the currently selected mine. -->
            <div>
                <label>Template</label>
                <select id="tlist"></select>
            </div>

            <!-- Two ways of drawing the tree. Why? Because we can! (It's D3 after all.)-->
            <div>
                <label>Layout</label>
                <select id="layoutstyle">
                    <option>tree</option>
                    <option>dendrogram</option>
                </select>
            </div>
        </div>

        <!-- Template info section. Shows template's name, description, etc. -->
        <div id="tInfoBar">
        <div id="tInfo">
            <div>
                <div name="name">
                    <label>Name</label>
                    <input type="text" ></input>
                </div>
                <div name="title">
                    <label>Title</label>
                    <input type="text" ></input>
                </div>
            </div>
            <div>
                <div name="description">
                    <label>Description</label>
                    <textarea cols="40" rows="4"></textarea>
                </div>
                <div name="comment">
                    <label>Comment</label>
                    <textarea cols="40" rows="4"></textarea>
                </div>
            </div>    
            <div>
                <div name="logicExpression">
                    <label>Logic expression</label>
                    <input size="40" type="text" ></input>
                </div>
            </div>
            <a id="biggreenbutton" name="runquery" href="" target="_blank">Run this query</a>
        </div>
        <!-- Where the query text is dumped with every update. -->
        <div id="ttext">
            <label>Query XML</label>
            <textarea></textarea>
        </div>
        </div>


        <!-- The dropdown dialog you get when you mouse over a node. -->
        <div id="dialog">
            <!-- Displays basic info about the node. -->
            <div name="header">
                <div name="dialogTitle">
                    <label>Name:&nbsp;</label>
                    <span></span>
                </div>
                <div name="fullPath">
                    <label>Path:&nbsp;</label>
                    <div></div>
                </div>
                <div name="type">
                    <label>Type:&nbsp;</label>
                    <div></div>
                </div>
            </div>

            <!-- Where the user gets to select/unselect an attribute to return. 
                 Only display for attributes (not for refs/colls) -->
            <div class="select-ctrl">
                <label>Selected:&nbsp;</label>
                <div></div>
            </div>

            <!-- Where the current set of constraints on this node are displayed. -->
            <div class="constraintSection">
                <div class="add-button">
                    <i class="material-icons add">add_box</i>
                    <label>Add constraint</label>
                </div>
            </div>

            <!-- where the attrs/refs/colls of a class are displayed.
                 Only shown for nodes representing refs/colls, i.e., not for attrs.  -->
            <div class="attrContainer">
                <table class="attributes"></table>
            </div>

            <!-- where the delete button lurks. -->
            <div class="footer">
              <i class="material-icons button remove" title="Remove this node">delete_forever</i>
              <i class="material-icons button close" title="Close dialog">close</i>
            </div>  
        </div>

        <!-- Constraint editor. The little popup you get when you edit a constraint at a node. -->
        <div id="constraintEditor">
            <!-- All the potential inputs. For a given constraint, only a subset are displayed,
                 depending on the operator (all done thru css). -->
            <select class="in" name="op" placeholder="constraint operator"></select>
            <input class="in" name="value" type="text" placeholder="value"></input>
            <input class="in" name="values" type="text" placeholder="multivalued constraint" ></input>
            <select class="in" name="type" type="text" placeholder="subclass constraint"></select>
            <div name="code"></div>
            <i class="material-icons button save" title="Save changes">check</i>
            <i class="material-icons button close" title="Cancel" >close</i>
        </div>

        <div id="svgContainer">
            <svg></svg>
        </div>

    </div>  

    <!--<script type="text/javascript" src="./resources/js/qb.js"> </script>-->
    <script type="text/javascript" src="./dist/qb.bundle.js"> </script>

</body>
</html>
